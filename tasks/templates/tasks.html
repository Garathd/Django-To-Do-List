{% extends 'base.html' %} {% block content %}

<div class="row">
    <div class="col-md-12">
        <h3 class="create"><span><a href="{% url 'create_task' %}">Create a new Task</a></span></h3>
    </div>
    <hr />
</div>

&nbsp;
<div class="row">
    <div class="col-md-10 col-sm-12"></div>
    <div class="col-md-2 col-sm-12">
        <form action="{% url 'get_tasks' %}" method="POST">
            {% csrf_token %}
            <select name="search" class="form-control">
              <option value="all" default>Show All</option>
              <option value="hpriority" >High Priority</option>
              <option value="mpriority" >Medium Priority</option>
              <option value="lpriority" >Low Priority</option>
              <option value="todo">To Do</option>
              <option value="progress">In Progress</option>
              <option value="done">Done</option>
            </select>
            <input id="search_button" class="btn btn-primary" type="submit" value="Search" />
        </form>
    </div>
</div>

&nbsp;

<div class="row">
    {% for task in tasks %}
    <div class="col-md-4">
        <p><span class="boldtext">Name:</span> {{task.name}}</p>
        <p><span class="boldtext">Project:</span> {{ task.project }}</p>
        <p><span class="boldtext">Status:</span> {{ task.status }}</p>
        {% if task.priority == 'High' %}
        <p style="color:red; font-weight:600"><span class="boldtext">Priority:</span> {{ task.priority }}</p>
        {% elif task.priority == 'Medium' %}
        <p style="color:orange; font-weight:600"><span class="boldtext">Priority:</span> {{ task.priority }}</p>
        {% elif task.priority == 'Low' %}
        <p style="color:green; font-weight:600"><span class="boldtext" >Priority:</span> {{ task.priority }}</p>
        {% endif %}
        <p id="more_button"><a href="{% url 'task_info' task.id %}" class="btn btn-primary"><span class="glyphicon glyphicon-cog"></span> More...</a></p>
        <hr />
    </div>
    {% endfor %}
</div>
{% endblock %}
